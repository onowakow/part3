{"version":3,"sources":["components/Person.js","components/People.js","components/Search.js","services/persons.js","components/PersonForm.js","components/Notification.js","components/ErrorNotification.js","App.js","index.js"],"names":["Person","person","handleDelete","name","number","value","id","onClick","People","persons","query","filter","toLowerCase","includes","map","Search","props","onChange","handleQuery","baseUrl","personService","remove","axios","delete","then","response","data","getAll","get","create","newObject","post","update","put","PersonForm","onSubmit","addPerson","newName","handleNameChange","newNumber","handleNumberChange","type","notificationStyle","backgroundColor","borderStyle","borderWidth","borderColor","fontSize","color","borderRadius","padding","width","Notification","message","isError","style","errorStyle","ErrorNotification","App","useState","setPersons","setNewName","setNewNumber","setQuery","setMessage","errorMessage","setErrorMessage","useEffect","event","target","preventDefault","newPerson","indexOf","isUpdate","window","confirm","find","console","log","setTimeout","catch","error","concat","parseInt","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.2a50a71d.chunk.js","sourcesContent":["import React from 'react'\n\nconst Person = ({person, handleDelete}) => {\n    return (\n      <div>\n        <p>\n          {person.name} {person.number}\n          <button value={person.id} onClick={handleDelete}>Delete</button>\n        </p>\n      </div>\n    )\n  }\n\nexport default Person","import React from \"react\";\nimport Person from './Person'\n\n\nconst People = ({ persons, query, handleDelete}) => {\n    const filteredPersons = persons.filter(person => (\n        person.name\n        .toLowerCase()\n        .includes(query.toLowerCase())\n    ))\n  return filteredPersons.map((person) => <Person handleDelete={handleDelete} key={person.name} person={person} />);\n};\n\nexport default People;\n","import React from 'react'\n\nconst Search = (props) => {\n    return (\n      <form>\n        <div>\n          query: <input onChange={props.handleQuery} />\n        </div>\n      </form>\n    )\n  }\n\nexport default Search\n  ","import axios from \"axios\";\nconst baseUrl = 'http://localhost:3001/api/persons'\n\n\nconst getAll = () => {\n\tconst request = axios.get(baseUrl)\n\treturn request.then(response => response.data)\n}\n\nconst create = (newObject) => {\n  const request = axios.post(baseUrl, newObject)\n\treturn request.then(response => response.data)\n}\n\nconst update = (id, newObject) => {\n\tconst request = axios.put(`${baseUrl}/${id}`, newObject)\n\treturn request.then(response => response.data)\n}\n\nconst remove = (id) => {\n\tconst request = axios.delete(`${baseUrl}/${id}`)\n\treturn request.then(response => response.data)\n}\n\nconst personService = { remove, getAll, create, update }\n\nexport default personService","import React from 'react'\n\nconst PersonForm = (props) => {\n    return (\n      <form onSubmit={props.addPerson}>\n        <div>\n          name: <input value={props.newName} onChange={props.handleNameChange}/>\n        </div>\n        <div>\n          number: <input value={props.newNumber} onChange={props.handleNumberChange}/>\n        </div>\n        <div>\n          <button type=\"submit\">add</button>\n        </div>\n      </form>\n    )\n  }\n\nexport default PersonForm","import React from 'react'\n\nconst notificationStyle = {\n  backgroundColor: 'lightGray',\n  borderStyle: 'solid',\n  borderWidth: 4,\n  borderColor: 'green',\n  fontSize: 20,\n  color: 'green',\n  borderRadius: 5,\n  padding: 10,\n  width: '50%'\n}\n\n\nconst Notification = ({ message, isError }) => {\n  if (message === null) {\n    return null\n  } else {\n    return <div style={notificationStyle}>{ message }</div>\n  }\n\n}\n\nexport default Notification","import React from 'react'\n\nconst errorStyle = {\n  backgroundColor: 'lightGray',\n  borderStyle: 'solid',\n  borderWidth: 4,\n  borderColor: 'red',\n  fontSize: 20,\n  color: 'red',\n  borderRadius: 5,\n  padding: 10,\n  width: '50%'\n}\n\nconst ErrorNotification = ({message}) => {\n  if (message === null) {\n    return null\n  } else {\n    return <div style={errorStyle}>{ message }</div>\n  }\n}\n\nexport default ErrorNotification","import People from './components/People'\nimport Search from './components/Search'\nimport personService from './services/persons'\nimport PersonForm from './components/PersonForm'\nimport React, { useState, useEffect } from 'react'\nimport Notification from './components/Notification'\nimport ErrorNotification from './components/ErrorNotification'\n\nconst App = () => {\n\n  // State declarations\n  const [ persons, setPersons ] = useState([])\n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ query, setQuery ] = useState('')\n  const [ message, setMessage ] = useState(null)\n  const [ errorMessage, setErrorMessage ] = useState(null)\n\n  useEffect(() => {\n    personService\n      .getAll()\n      .then(response => {\n        setPersons(response)\n      })\n  }, [])\n  \n\n  // Handler functions\n  const addPerson = (event) => {\n    event.preventDefault()\n\n    const newPerson = {\n      name: newName,\n      number: newNumber\n    }\n\n    // Check if name exists\n    const names = persons.map(person => person.name)\n    if (names.indexOf(newName) !== -1) {\n      // Is this the best place for this alert function? Should it be in another component?\n      const isUpdate = window.confirm(`${newName} is already added to the phonebook. Replace old number with new one?`)\n\n      // Find person's id\n      const id = persons.find(person => person.name === newName).id\n      console.log(id);\n\n      // Update person at that id\n      if (isUpdate) {\n        personService\n          .update(id, newPerson)\n          .then(response => {\n            // Replace old person data with updated data\n            setPersons(persons\n              .map(person => {\n                return person.id !== id ? person\n                : newPerson\n              })\n            )\n            setMessage(`${newPerson.name} updated.`)\n            setTimeout(() => {\n              setMessage(null)\n            }, 5000)\n          })\n          .catch(error => {\n            setErrorMessage(`Person ${newPerson.name} was already deleted.`)\n            setTimeout(() => {\n              setErrorMessage(null)\n            }, 5000)\n          })\n      }\n      // Stop executing parent (addPerson) function.\n      return;\n    }\n\n    // Create new person.\n    personService\n      .create(newPerson)\n      .then(response => {\n        setPersons(persons.concat(response))\n        setNewNumber('')\n        setNewName('')\n        setMessage(`${newPerson.name} added to phonebook`)\n        setTimeout(() => {\n          setMessage(null)\n        }, 5000)\n      })\n  }\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const handleQuery = (event) => {\n    setQuery(event.target.value)\n  }\n\n  const handleDelete = (event) => {\n    // value is a string. Must be parsed for strict equality.\n    const id = parseInt(event.target.value)\n    const name = persons.find(person => person.id === id).name\n    const isConfirmDelete = window.confirm(`Are you sure you want to delete ${name}?`)\n    if (isConfirmDelete) {\n      personService\n        .remove(id)\n        .then( response => {\n          setPersons(persons\n            .filter(person => person.id !== id))\n          setMessage(`Person ${name} deleted`)\n          setTimeout(() => setMessage(null), 5000)\n        })\n        .catch(error => {\n          setErrorMessage(`Person ${name} was already deleted.`)\n          setTimeout(() => {\n            setErrorMessage(null)\n          }, 5000)\n        })\n    }\n  }\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <ErrorNotification message={errorMessage} />\n      <Notification message={message} />\n      <h3>Filter shown with</h3>\n      <Search handleQuery={handleQuery} />\n      <h3>Add new</h3>\n      <PersonForm \n        addPerson={addPerson} \n        newName={newName} \n        newNumber={newNumber} \n        handleNumberChange={handleNumberChange}\n        handleNameChange={handleNameChange}\n      />\n      <h3>Numbers</h3>\n      <People handleDelete={handleDelete} persons={persons} query={query} />\n    </div>\n  )\n}\n\nexport default App;\n","import ReactDOM from 'react-dom';\nimport App from './App';\n  \nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);\n\n\n"],"sourceRoot":""}